{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\young\\\\Downloads\\\\Rmit_campus_map\\\\Rmit_campus_map\\\\frontend\\\\src\\\\GeoJSONMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport geojsonFeature from \"./building_info/buildingCollection\";\nimport univLayer from \"./univLayer.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GeoJSONMap = () => {\n  _s();\n  const [selectedBuilding, setSelectedBuilding] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  let map; // Declare map variable here\n\n  useEffect(() => {\n    map = L.map(\"map\", {\n      center: [10.7298, 106.69451],\n      zoom: 20\n    });\n\n    // Rest of the code...\n\n    return () => {\n      if (map) {\n        map.remove();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (userLocation && map) {\n      // Ensure that both userLocation and map are defined\n      const userMarker = L.marker(userLocation, {\n        icon: L.divIcon({\n          className: 'user-marker',\n          iconSize: [20, 20],\n          html: '<div style=\"background-color: blue; border-radius: 50%; width: 20px; height: 20px;\"></div>'\n        })\n      });\n      userMarker.addTo(map);\n    }\n  }, [userLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      style: {\n        height: \"500px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), selectedBuilding && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedBuilding(null),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: selectedBuilding\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `images/${selectedBuilding}.jpg`,\n        alt: selectedBuilding\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Description of \", selectedBuilding]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(GeoJSONMap, \"HfWVTrMZ+o+TMZdj6oHN7xMYDK4=\");\n_c = GeoJSONMap;\nexport default GeoJSONMap;\nvar _c;\n$RefreshReg$(_c, \"GeoJSONMap\");","map":{"version":3,"names":["React","useEffect","useState","L","geojsonFeature","univLayer","jsxDEV","_jsxDEV","GeoJSONMap","_s","selectedBuilding","setSelectedBuilding","userLocation","setUserLocation","map","center","zoom","remove","userMarker","marker","icon","divIcon","className","iconSize","html","addTo","children","id","style","height","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/young/Downloads/Rmit_campus_map/Rmit_campus_map/frontend/src/GeoJSONMap.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport geojsonFeature from \"./building_info/buildingCollection\";\nimport univLayer from \"./univLayer.json\";\n\nconst GeoJSONMap = () => {\n  const [selectedBuilding, setSelectedBuilding] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  let map; // Declare map variable here\n\n  useEffect(() => {\n    map = L.map(\"map\", {\n      center: [10.7298, 106.69451],\n      zoom: 20,\n    });\n\n    // Rest of the code...\n\n    return () => {\n      if (map) {\n        map.remove();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (userLocation && map) { // Ensure that both userLocation and map are defined\n      const userMarker = L.marker(userLocation, {\n        icon: L.divIcon({\n          className: 'user-marker',\n          iconSize: [20, 20],\n          html: '<div style=\"background-color: blue; border-radius: 50%; width: 20px; height: 20px;\"></div>',\n        }),\n      });\n      userMarker.addTo(map);\n    }\n  }, [userLocation]);\n\n  return (\n    <div>\n      <div id=\"map\" style={{ height: \"500px\" }}></div>\n      {selectedBuilding && (\n        <div className=\"navigation-bar\">\n          <button onClick={() => setSelectedBuilding(null)}>X</button>\n          <h2>{selectedBuilding}</h2>\n          <img src={`images/${selectedBuilding}.jpg`} alt={selectedBuilding} />\n          <p>Description of {selectedBuilding}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GeoJSONMap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AACjC,OAAOC,cAAc,MAAM,oCAAoC;AAC/D,OAAOC,SAAS,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtD,IAAIY,GAAG,CAAC,CAAC;;EAETb,SAAS,CAAC,MAAM;IACda,GAAG,GAAGX,CAAC,CAACW,GAAG,CAAC,KAAK,EAAE;MACjBC,MAAM,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC;MAC5BC,IAAI,EAAE;IACR,CAAC,CAAC;;IAEF;;IAEA,OAAO,MAAM;MACX,IAAIF,GAAG,EAAE;QACPA,GAAG,CAACG,MAAM,CAAC,CAAC;MACd;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENhB,SAAS,CAAC,MAAM;IACd,IAAIW,YAAY,IAAIE,GAAG,EAAE;MAAE;MACzB,MAAMI,UAAU,GAAGf,CAAC,CAACgB,MAAM,CAACP,YAAY,EAAE;QACxCQ,IAAI,EAAEjB,CAAC,CAACkB,OAAO,CAAC;UACdC,SAAS,EAAE,aAAa;UACxBC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;UAClBC,IAAI,EAAE;QACR,CAAC;MACH,CAAC,CAAC;MACFN,UAAU,CAACO,KAAK,CAACX,GAAG,CAAC;IACvB;EACF,CAAC,EAAE,CAACF,YAAY,CAAC,CAAC;EAElB,oBACEL,OAAA;IAAAmB,QAAA,gBACEnB,OAAA;MAAKoB,EAAE,EAAC,KAAK;MAACC,KAAK,EAAE;QAAEC,MAAM,EAAE;MAAQ;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAC/CvB,gBAAgB,iBACfH,OAAA;MAAKe,SAAS,EAAC,gBAAgB;MAAAI,QAAA,gBAC7BnB,OAAA;QAAQ2B,OAAO,EAAEA,CAAA,KAAMvB,mBAAmB,CAAC,IAAI,CAAE;QAAAe,QAAA,EAAC;MAAC;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC5D1B,OAAA;QAAAmB,QAAA,EAAKhB;MAAgB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3B1B,OAAA;QAAK4B,GAAG,EAAG,UAASzB,gBAAiB,MAAM;QAAC0B,GAAG,EAAE1B;MAAiB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrE1B,OAAA;QAAAmB,QAAA,GAAG,iBAAe,EAAChB,gBAAgB;MAAA;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACxB,EAAA,CA9CID,UAAU;AAAA6B,EAAA,GAAV7B,UAAU;AAgDhB,eAAeA,UAAU;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}